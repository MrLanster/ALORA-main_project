<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Frame with Text and Buttons</title>
    <link rel="stylesheet" href="/static/whole.css">
</head>
<body>

    <div class="header">
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="logo-container">
            <img src="/static/logo-removebg-preview.png" alt="Logo" class="logo">
        </div>
    </div>

    <nav class="nav-links" id="nav-links">
        <a href="#home" class="nav-link">Home</a>
        <a href="/about" class="nav-link">About</a>
        <a href="#services" class="nav-link">Services</a>
        <a href="#contact" class="nav-link">Contact</a>
        <a href="/logout" class="nav-link">Logout</a>
    </nav>

    <div class="video-container">
        <img src="{{ url_for('video_feed') }}" style="width: 100%; max-width: 600px;"/>
    </div>

    <div id="text-container">
        <div class="text-item">
            <button class="button" onclick="moveServo(2, 'left')">Left</button>
            <span>BASE</span>
            <button class="button" onclick="moveServo(2, 'right')">Right</button>
        </div>
        <div class="text-item">
            <button class="button" onclick="moveServo(3, 'left')">Left</button>
            <span>SHOULDER</span>
            <button class="button" onclick="moveServo(3, 'right')">Right</button>
        </div>
        <div class="text-item">
            <button class="button" onclick="moveServo(4, 'left')">Left</button>
            <span>ELBOW</span>
            <button class="button" onclick="moveServo(4, 'right')">Right</button>
        </div>
        <div class="text-item">
            <button class="button" onclick="moveServo(17, 'left')">Left</button>
            <span>WRIST</span>
            <button class="button" onclick="moveServo(17, 'right')">Right</button>
        </div>
        <div class="text-item">
            <button class="button" onclick="moveFingers('open')">OPEN</button>
            <span>FINGERS</span>
            <button class="button" onclick="moveFingers('close')">CLOSE</button>
        </div>
    </div>

    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('nav-links');
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
        }

        function moveServo(gpioNum, direction) {
            fetch(`/move/${gpioNum}/${direction}`)
                .then(response => {
                    if (!response.ok) {
                        console.error('Failed to move servo:', response.statusText);
                    }
                })
                .catch(error => console.error('Error:', error));
        }

        function moveFingers(action) {
            fetch(`/move/fingers/${action}`)
                .then(response => {
                    if (!response.ok) {
                        console.error('Failed to move fingers:', response.statusText);
                    }
                })
                .catch(error => console.error('Error:', error));
        }
    </script>

</body>
</html>
